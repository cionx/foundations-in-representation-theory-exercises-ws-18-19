\usepackage{xparse} % defining certain macros
\usepackage{microtype}  % better typography
\usepackage{amsmath, amssymb, amsthm, mathtools} % smath stuff
\usepackage{enumitem} % better list type environments
\usepackage[capitalise,noabbrev]{cleveref}  % smarter referencing, load after hyperref


% prevents breaking inline math around binary or relationship symbols
\binoppenalty=\maxdimen
\relpenalty=\maxdimen


% settings for list like environments
\setlist[enumerate, 1]{leftmargin=*, align=left, label=\arabic*)}
\setlist[itemize, 1]{leftmargin=*}
\setlist[itemize, 2]{leftmargin=*, label={\textopenbullet}}


% redefine how counters are printed
\setcounter{secnumdepth}{2}
\renewcommand{\thesection}{Exercise \arabic{section}.}
\renewcommand{\thesubsection}{(\roman{subsection})}


% define theorem like environments
\newcounter{everything}
\newtheorem{lemma}[everything]{Lemma}


% text shortcuts
\newcommand{\dash}[2]{#1\nobreakdash-#2}
\newcommand{\dashmod}{\nobreakdash-module}
\newcommand{\dashmods}{\nobreakdash-modules}
\newcommand{\dashsmod}{\nobreakdash-submodule}
\newcommand{\dashsmods}{\nobreakdash-submodules}
\newcommand{\Amod}{$A$\nobreakdash-module}
\newcommand{\Amods}{$A$\nobreakdash-modules}
\newcommand{\Asmod}{$A$\nobreakdash-submodule}
\newcommand{\Asmods}{$A$\nobreakdash-submodules}
\newcommand{\kalg}{$k$\nobreakdash-algebra}
\newcommand{\kalgs}{$k$\nobreakdash-algebras}
\newcommand{\kbasis}{$k$\nobreakdash-basis}
\newcommand{\kbil}{$k$\nobreakdash-bilinear}
\newcommand{\klin}{$k$\nobreakdash-linear}
\newcommand{\kmod}{$k$\nobreakdash-module}
\newcommand{\kmods}{$k$\nobreakdash-modules}
\newcommand{\twosided}{two\nobreakdash-sided}
\newcommand{\welldef}{well\nobreakdash-defined}


% math shortcuts
\newcommand{\longto}{\longrightarrow}


% relations
\newcommand{\defined}{\coloneqq}
\newcommand{\defines}{\eqqcolon}


% important sets
\newcommand{\Natural}{\mathbb{N}}
\newcommand{\Integer}{\mathbb{Z}}


% important spaces
\newcommand{\mat}[2]{\operatorname{M}_{#1}(#2)}


% space and set constructions
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Hom}{Hom}


% functions
\newcommand{\id}{\operatorname{id}}
\DeclareMathOperator{\ringchar}{char}


% custom macros with case distinctions
\NewDocumentCommand{\suchthat}{s}{
  \IfBooleanTF{#1}
    {\,\middle|\,}
    {\mathrel{|}}       
}
\NewDocumentCommand{\restrict}{smmO{}}{
  \IfBooleanTF{#1}
    {\left. {#2} \,\middle|_{#3}^{#4} \right.}
    {{#2}\,|_{#3}^{#4}}
}
